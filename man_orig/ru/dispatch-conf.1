.TH "DISPATCH-CONF" "1" "Jan 2011" "Portage VERSION" "Portage"
.SH "НАЗВАНИЕ"
dispatch\-conf \- безопасное обновление конфигурационных файлов после
установки новых пакетов
.SH "СИНТАКСИС"
.B dispatch\-conf
.SH "ОПИСАНИЕ"
Утилиту \fIdispatch\-conf\fR следует запускать после установки новых
пакетов для проверки конфигурационных файлов на обновления. Если
новый конфигурационный файл попытается затереть текущий,
\fIdispatch\-conf\fR предложит пользователю самому решить, каким
образом разрешить эту ситуацию. Среди достоинств \fIdispatch\-conf\fR \-
легкость отката изменений (изменения конфигурационных файлов сохраняются
с помощью либо патчей, либо RCS) и возможность автоматического
обновления тех файлов, которые пользователь не изменял, и тех, которые
отличаются от текущей версии только CVS-мусором или пробелом.

\fIdispatch\-conf\fR проверит на обновления все каталоги, указанные в
переменной \fICONFIG_PROTECT\fR. Также, программа \fIdispatch\-conf\fR
автоматически обновит все файлы конфигурации, найденные в
\fICONFIG_PROTECT_MASK\fR.  Подробнее см. в \fBmake.conf\fR(5).
.SH "ОПЦИИ"
.TP
Нет.
.SH "СИНТАКСИС"
\fIdispatch\-conf\fR следует запускать от пользователя root, поскольку
владельцем файлов, с которыми работает утилита, как правило, является
именно пользователь root. Перед первым запуском \fIdispatch\-conf\fR
необходимо отредактировать настройки в файле \fB/etc/dispatch\-conf.conf\fR
и создать каталог архивов, указанный в \fB/etc/dispatch\-conf.conf\fR.
Все изменения конфигурационных файлов сохраняются в каталоге архивов \-
либо как патчи, либо с помощью RCS, благодаря чему довольно просто
вернуться к предыдущей версии.

Всякий раз, когда \fIdispatch\-conf\fR обнаруживает конфигурационный файл,
который был обновлен, пользователю дается возможность выбрать один из
следующих вариантов, чтобы решить, что делать с предлагаемым обновлением:
.TP
.B u
Обновить (заменить) текущий конфигурационный файл новым и продолжить.
.TP
.B z
Затереть (удалить) новый конфигурационный файл и продолжить.
.TP
.B n
Пропустить и перейти к следующему конфигурационному файлу, не удаляя ни
исходную версию, ни файлы, защищенные \fICONFIG_PROTECT\fR.
.TP
.B e
Редактировать новый конфигурационный файл в редакторе текста,
определенном переменной \fIEDITOR\fR.
.TP
.B m
В интерактивном режиме произвести слияние текущего и нового конфигурационных файлов.
.TP
.B l
Просмотреть различия между текущим и новым конфигурационными файлами.
.TP
.B t
Переключаться между текущим и новым конфигурационными файлами
(в конечном итоге потребуется установить конечную версию, нажав \fBu\fR).
.TP
.B h
Вывести справку.
.TP
.B q
Выйти из \fIdispatch\-conf\fR.
.SH "ПРАВА НА ФАЙЛЫ"
\fBВНИМАНИЕ\fR: Если \fB/etc/dispatch\-conf.conf\fR сконфигурирован
для использования \fBrcs\fR(1), права на чтение и исполнение
архивированных файлов могут быть унаследованы от первой проверки
рабочего файла, как описано в man\-руководстве \fBci\fR(1). Это
означает, что даже если права доступа к рабочему файлу изменились,
прежние права, действовавшие при первой проверке, могут быть
возвращены. Согласно руководству \fBci\fR(1), пользователи могут
управлять доступом к RCS\-файлам, изменив права на доступ к
каталогу, в котором они лежат.
.SH "БАГТРЕКЕР"
Об обнаруженных ошибках сообщайте на https://bugs.gentoo.org/
.SH "АВТОРЫ"
.nf
Jeremy Wohl
Karl Trygve Kalleberg <karltk@gentoo.org>
Mike Frysinger <vapier@gentoo.org>
Grant Goodyear <g2boojum@gentoo.org>
.fi
.SH "ФАЙЛЫ"
.TP
.B /etc/dispatch\-conf.conf
Здесь хранятся настройки конфигурации для \fIdispatch\-conf\fR.
.SH "СМОТРИ ТАКЖЕ"
.BR make.conf (5),
.BR ci (1),
.BR etc-update (1),
.BR rcs (1)
.SH "ПЕРЕВОД"
.nf
Переводчик: Елена Гаврилова <e.vl.gavrilova@yandex.ru>
Редактор: Романов Владимир <blueboar2@gmail.com>
.fi
